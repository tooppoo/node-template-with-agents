# Codespacesタスクを用いた AGENTS.md 初期生成・クリーンアップ

- 日付: 2025-09-01
- 影響範囲: ドキュメント初期化フロー、テンプレート運用

## 文脈
新規プロジェクト作成時に `AGENTS.md` を確実かつ簡潔に生成したい。  
GitHub Actions は初期化専用ワークフローの維持コストが高く、postCreate は普段の開発でも毎回実行されてしまう。

## 決定
- **Codespaces/VS Code の手動タスク**で `AGENTS.md` を生成する（`AGENTS生成`）
- 同一PR内で **テンプレ専用ファイルを削除**する（`テンプレートクリーンアップ`）
- 削除対象は `template/cleanup.json` の **allow-list** で管理（完全一致・ワイルドカード不可）

## 代替案（却下）
- GitHub Actions 自動生成: 一回用途のため保守コスト過大
- postCreate: 普段の開発で意図せず再実行される

## セキュリティ
- `params.json` は公開前提の値のみ。機密は入れない。
- テンプレ情報（内部運用がわかるドキュメント）は派生から削除する。

## コスト
- タスク2回＋レビューのみで軽量。CI課金の増加なし。

## 受け入れ条件
- 派生リポジトリにテンプレ専用ファイルが残存しない
- `AGENTS.md` に未解決プレースホルダがない
- PR本文に削除ログが残る
