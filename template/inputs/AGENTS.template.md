# リリースノート
- リリースノートは {{SCM_PROVIDER}} の自動生成機能（例: 自動リリースノート、変更履歴生成）**のみ**を用いること。

# 相談の仕方
- 私の提案・相談について、すべて肯定する必要はありません。むしろ、批判的に検討してください。
- 懸念や問題点があれば、指摘のうえで代替案を提示してください。
- 回答時は、**セキュリティ / パフォーマンス / ユーザー体験 / アクセシビリティ / トレーサビリティ**の観点を重視してください。

# 開発の流れ
- まずアプリケーションに何が必要か、**要求**を確認してまとめた内容を docs/requests/{title}.md に配置。要求が十分か確認すること
- 要求から想定される代表的なシナリオを作成して、 docs/scenario/{title}.md に配置。シナリオが十分か確認すること
- シナリオが作成できたら、要求とシナリオの内容をもとに**要件**を定義し、成果を docs/requirements/{title}.md に配置すること
- 要件定義が済んだら、要求・シナリオ・要件に基づいてアプリケーションを構成するドメインモデルを docs/domain/model.md の形式で作成すること
- ドメインモデルの定義ができたら、要求・シナリオ・要件・ドメインモデルに基づいてアクター・ユースケース・エンティティ・バウンダリ・コントロールを抽出してユースケース図を作成し、 docs/usecases/{title}.md に配置すること
- ユースケースを作成したら、要求・シナリオ・要件・仕様・ドメインモデル・ユースケースの内容を元に作成した仕様を docs/spec/{title}.md の形式で配置すること
- 設計・実装は 要求・シナリオ・要件・仕様・ドメインモデル・ユースケース・仕様が揃ってから開始すること
- 設計・実装・テストは要求・シナリオ・要件・仕様・ドメインモデル・ユースケース・仕様の内容に従うこと
- 要求・シナリオ・要件・仕様・ドメインモデル・ユースケース・仕様の内容に従うと設計・実装・テストが困難となる場合は、要求・要件・仕様・シナリオ・ユースケースについて修正・変更が可能か確認すること
- 各図はmermaidjsの記法で記述すること

# 設計
- **可読性 / 交換容易性 / 一覧性**を重視すること。
- **低結合・高凝集**のモジュール分割を目指すこと。
- オブジェクト指向プログラミング、関数型プログラミングを適宜使い分けること。どちらかのみを原理的に採用するのではなく、より適切なアプローチを適切な箇所で採用する
- 一般的に知られるベストプラクティスに従うこと
- 設計上の決定および決定までの経緯は docs/adr/{title}.md に配置すること。docs/adr 以下に配置するテキストはADR(Architecture Decision Record)の一般的な形式に従うこと

# 開発ツール
## {{FRONTEND_FRAMEWORK}}
- 常に**最新公式ドキュメント**を参照のこと。
- 一般的に知られるベストプラクティスに従うこと

## {{APP_FRAMEWORK}}
- 常に**最新公式ドキュメント**を参照のこと。
- 一般的に知られるベストプラクティスに従うこと

## TypeScript
- 常に**最新のTypeScript公式ドキュメント**を参照のこと。
- 作成するコードは TypeScript 前提。
- {{FRONTEND_FRAMEWORK}} ファイルでも TypeScript 併用を前提とすること。
- 一般的に知られるベストプラクティスに従うこと

## {{RUNTIME_CLI}}
- 常に**最新の公式ドキュメント**を参照のこと。
- 一般的に知られるベストプラクティスに従うこと

## テスト
- テストコードは TypeScript で作成すること。
- **Property-based testing**（例: {{PROPERTY_TEST_LIB}}）の採用を常に検討すること。
- Property-based でカバーしづらい部分は **Sample-based testing**（例: {{SAMPLE_TEST_LIB}}）を採用すること。
- 一般的に知られるベストプラクティスに従うこと

## ライブラリ選定
- ライブラリ提案時は、以下を満たすものを優先：
  - 開発が活発
  - リポジトリのスター数が多い
  - パッケージダウンロード数が多い
  - TypeScript に標準対応
  - 依存が少ない（軽量）

## リファクタリング
- 既存の**外部可観測な振る舞いを変えない**こと（後方互換）。
- 一般的に知られるベストプラクティスに従うこと

## インフラ
- 既定構成：`{{HOSTING}} + {{DATABASE}}`
  - 例）ホスティング: 静的/エッジ配信、DB: サーバレスRDB/SQLite系
- ORM やマイグレーションツール選定も上記構成を前提に行う（例: `{{ORM}}`）。
- 採用したインフラで一般的に知られるベストプラクティスに従うこと

## 依存更新ボット（Renovate / Dependabot）
- Renovate または Dependabot が作成したブランチをベースに PR を作る場合：
  - PR の向き先は {{DEFAULT_BRANCH}} にしない。
  - **ボットが作成したブランチ → ボットのベースブランチ** への PR（スタック/積み上げ PR）とすること。

## Pull Request作成

- Pull Requestを作成する前に、以下を実施すること
  - ベースブランチを必ず確認
  - 指示されたベースブランチを更新
  - ベースブランチと現在のブランチに差異があればrebase
  - rebase時にコンフリクトが発生したら、コンフリクトを解決
  - コンフリクトを解決した場合、コンフリクトの内容と解決方法をコミットメッセージに含める
  

---

_この文書は `params.json` (commit: {{PARAMS_COMMIT}}) を用いて {{GENERATED_AT}} に自動生成されました。_
